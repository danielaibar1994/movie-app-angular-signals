<div class="register-form">
    <form [formGroup]="form" (ngSubmit)="onSubmit()">
        <div class="form-group">
            <label>Title</label>
            <input type="text" formControlName="title" class="form-control"
                [ngClass]="{ 'is-invalid': submitted && f['title'].errors }" />
            <div *ngIf="submitted && f['title'].errors" class="invalid-feedback">
                <div *ngIf="f['title'].errors['required']">Title is required</div>
            </div>
        </div>


        <div class="form-group">
            <label>Poster</label>
            <input type="text" formControlName="poster" class="form-control"
                [ngClass]="{ 'is-invalid': submitted && f['poster'].errors }" />
            <div *ngIf="submitted && f['poster'].errors" class="invalid-feedback">
                <div *ngIf="f['poster'].errors['required']">Poster is required</div>
            </div>
        </div>


        <!-- Genre -->
        <div class="form-group">
            <label>Genre</label>
            <input [(ngModel)]="genreInput" type="text" class="form-control" (keyup.enter)="onEnter()"
                [ngModelOptions]="{standalone: true}" />

            <div>
                <span *ngFor="let genre of form.value.genre; let i=index" class="tag">
                    {{ genre }}
                    <span class="delete-tag" (click)="removeGenre(i)">&#10005;</span>
                </span>
            </div>

        </div>

        <!-- Year -->

        <div class="form-group">
            <label>Year</label>
            <input type="number" formControlName="year" class="form-control"
                [ngClass]="{ 'is-invalid': submitted && f['year'].errors }" />
            <div *ngIf="submitted && f['year'].errors" class="invalid-feedback">
                <div *ngIf="f['year'].errors['required']">Year is required</div>
            </div>
        </div>


        <!-- Duration -->

        <div class="form-group">
            <label>Duration</label>
            <input type="number" formControlName="duration" class="form-control"
                [ngClass]="{ 'is-invalid': submitted && f['duration'].errors }" />
            <div *ngIf="submitted && f['duration'].errors" class="invalid-feedback">
                <div *ngIf="f['duration'].errors['required']">Duration is required</div>
            </div>
        </div>



        <!-- imdbRating -->

        <div class="form-group">
            <label>Imbd Rating</label>
            <input type="number" formControlName="imdbRating" class="form-control"
                [ngClass]="{ 'is-invalid': submitted && f['imdbRating'].errors }" />
            <div *ngIf="submitted && f['imdbRating'].errors" class="invalid-feedback">
                <div *ngIf="f['imdbRating'].errors['required']">Imbd Rating is required</div>
            </div>
        </div>

        <!-- Actors -->

        <div class="form-group">
            <label>Actors</label>
            <select class="form-control" [(ngModel)]="actorsInput" [ngModelOptions]="{standalone: true}"
                (change)="onEnterActor()">
                <option [value]="-1" default disabled> Select actor...</option>
                <option *ngFor="let actor of actors" [value]="actor.id"> {{ actor.first_name + ' ' + actor.last_name }}
                </option>
            </select>

            <div>
                <span *ngFor="let actor of form.value.actors; let i=index" class="tag">
                    {{ getActorName(+actor) }}
                    <span class="delete-tag" (click)="removeActor(i)">&#10005;</span>
                </span>
            </div>

        </div>


        <!-- Company -->

        <div class="form-group">
            <label>Company</label>
            <select formControlName="company" class="form-control">
                <option *ngFor="let company of companies" [value]="+company.id"> {{ company.name }}</option>
            </select>

            <div *ngIf="submitted && f['company'].errors" class="invalid-feedback">
                <div *ngIf="f['company'].errors['required']">company is required</div>
            </div>
        </div>



        <div class="form-group">
            <button type="submit" class="primary-button">Save</button>

            <button type="button" (click)="onReset()" class="primary-button warning">
                Reset
            </button>
            <button (click)="onCancel()" class="primary-button alert">Cancel</button>
        </div>
    </form>
</div>